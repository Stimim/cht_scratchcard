<html>

<head>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
  <!-- To support random seed -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/idb-keyval@6/dist/umd.js"></script>

  <script src="./main.js"></script>

  <template id="template-guess">
    <div class="row">
      <div class="box">
        <canvas id="canvas" class="ui medium rounded image" width=256 height=256></canvas>
      </div>
    </div>
  </template>

  <style>
    :root {
      --max-width: 400px;
    }

    .box {
      display: block;
      margin-bottom: 10px;
    }

    .box>canvas {
      border: 1px solid gray;
    }

    .row {
      text-align: center;
    }

    #message {
      text-align: center;
    }

    #title {
      font-weight: bold;
      text-align: center;
    }

    #game {
      margin: 0 auto;
      margin-top: 20px;
      width: 100%;
      max-width: var(--max-width);
      text-align: center;
    }

    #game>div {
      width: 100%;
      max-width: var(--max-width);
    }

    #text-input {
      width: 100%;
    }

    #menu {
      max-width: var(--max-width);
    }

    #menu.fixed {
      position: fixed;
      background: white;
      box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.2);
    }

    @media only screen and (max-width: 992px) {
      :root {
        --max-width: 800px;
      }

      body {
        font-size: 2rem;
      }

      #game #title {
        font-size: 2em;
      }

      #game * {
        font-size: 2rem;
      }

      #dialog-help .header, #dialog-settings .header {
        font-size: 4rem;
      }

      #dialog-help .actions *, #dialog-settings .actions * {
        font-size: 1.5rem;
      }

      #dialog-help .content *, #dialog-settings .content * {
        font-size: 3rem;
      }

      #dialog-help, #dialog-settings {
        width: 100%;
      }

      #button-github {
        font-size: 2rem;
      }
    }

  </style>
</head>

<body>
  <div class="ui container">
    <div id="game">
      <div class="ui four column centered grid">
        <div class="row" id="menu">
          <div class="left aligned column">
            <button id="button-help" class="ui small icon instagram button">
              <i class="question icon"></i>
            </button>
          </div>
          <div class="eight wide column">
            <h1 id="title">國字刮刮樂</h1>
          </div>
          <div class="right aligned column">
            <div class="ui small icon buttons">
              <button id="button-settings" class="ui icon instagram button">
                <i class="cog icon"></i>
              </button>
              <button id="button-share" class="ui icon instagram button">
                <i class="share square icon"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="sixteen wide column">
            <div id="result">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="sixteen wide column">
            <form id="form-guess" class="ui form">
              <div class="field">
                <div id="text-input" class="ui action input">
                  <input id="text-guess" type="text" placeholder="猜一個字..." />
                  <button id="button-guess" class="ui instagram button" type="submit">送出</button>
                </div>
                <div id="invalid-message" class="ui pointing red basic label" onkeyup="this.onchange();">
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="ui message" id="message">資料載入中...</div>
      <div class="ui positive message" id="message-correct-answer" style="display: none;">
        <div class="header">
          恭喜你答對了!
        </div>
        <p>想更認識這個字嗎？看看
          <a id="dict-link" href="#" target="_blank">
            國語辭典
          </a>裡的相關條目吧！
        </p>
      </div>
    </div>

    <div id="dialog-help" class="ui tiny modal" style="margin-left: auto; margin-right: auto;">
      <div class="header">
        國字刮刮樂
        <button id="button-github" class="ui right floated labeled icon mini button"
          onclick="window.open('https://github.com/stimim/cht_scratchcard', '_blank')">
          <i class="github alternate icon"></i>
          GitHub
        </button>
      </div>
      <div class="content">
        <h1>遊戲說明</h1>
        <p>每次輸入一個中文字，顯示的結果為答案和輸入的重疊部分。</p>
        <p>輸入的中文字必須是<a href='
            https://language.moe.gov.tw/result.aspx?classify_sn=23&subclassify_sn=437&content_sn=46'
            target=_blank>教育部常用字</a>，並且有筆畫數限制。</p>
        <p><small>筆順資料來源：<a href="https://stroke-order.learningweb.moe.edu.tw/home.do"
              target=_blank>國字標準字體筆順學習網</a></small>
        </p>
      </div>
      <div class="actions">
        <div id="button-start" class="ui instagram ok button">Start</div>
      </div>
    </div>

    <div id="dialog-settings" class="ui tiny modal" style="margin-left: auto; margin-right: auto;">
      <div class="header">
        設定
      </div>
      <div class="content">
        <div class="ui toggle checkbox">
          <input type="checkbox" id="settings-show-stroke">
          <label>顯示輸入字的外框</label>
        </div>
      </div>
      <div class="actions">
        <div class="ui red cancel button">
          <i class="remove icon"></i>
          取消
        </div>
        <div class="ui green ok button">
          <i class="checkmark icon"></i>
          確認
        </div>
      </div>
    </div>
  </div>
</body>

</html>
